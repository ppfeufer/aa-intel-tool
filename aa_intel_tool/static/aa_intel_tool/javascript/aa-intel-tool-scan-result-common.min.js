'use strict';const aaIntelToolJsSettings=_getAaIntelToolJsSettings(),_toggleScanStickyHighlight=({element:e,type:t,scanType:a,excludeLinkElement:n='aa-intel-information-link',highlightOnly:l=!1})=>{const i={fleetcomposition:{add:'function'==typeof addFleetcompositionHighlight?addFleetcompositionHighlight:null,remove:'function'==typeof removeFleetcompositionHighlight?removeFleetcompositionHighlight:null,change:'function'==typeof changeFleetcompositionStickyHighlight?changeFleetcompositionStickyHighlight:null},dscan:{add:'function'==typeof addDscanHighlight?addDscanHighlight:null,remove:'function'==typeof removeDscanHighlight?removeDscanHighlight:null,change:'function'==typeof changeDscanStickyHighlight?changeDscanStickyHighlight:null},chatscan:{add:'function'==typeof addChatscanHighlight?addChatscanHighlight:null,remove:'function'==typeof removeChatscanHighlight?removeChatscanHighlight:null,change:'function'==typeof changeChatscanStickyHighlight?changeChatscanStickyHighlight:null}}[a],o=l?e=>e.addClass('aa-intel-highlight'):e=>i.add(t,e),s=l?e=>e.removeClass('aa-intel-highlight'):e=>i.remove(t,e);e.mouseenter(e=>{o($(e.currentTarget))}).mouseleave(e=>{s($(e.currentTarget))}),l||e.click(e=>{$(e.target).hasClass(n)?e.stopPropagation():i.change(t,$(e.currentTarget))})},_toggleFleetcompStickyHighlight=e=>{_toggleScanStickyHighlight({...e,scanType:'fleetcomposition'})},_toggleDscanStickyHighlight=e=>{_toggleScanStickyHighlight({...e,scanType:'dscan'})},_toggleChatscanStickyHighlight=e=>{_toggleScanStickyHighlight({...e,scanType:'chatscan'})},bootstrapTooltip=({selector:e='body',namespace:t='aa-intel-tool'})=>{document.querySelectorAll(`${e} [data-bs-tooltip="${t}"]`).forEach(e=>new bootstrap.Tooltip(e))},_eveImageHtml=({eveId:e,eveName:t,imageSource:a,imageSize:n=32})=>`<img class="eve-image rounded" data-eveid="${e}" src="${a}" alt="${t}" title="${t}" data-bs-tooltip="aa-intel-tool" loading="lazy" width="${n}" height="${n}">`,_externalLinkHtml=({serviceName:e,href:t})=>`<a class="aa-intel-information-link" href="${t}" target="_blank" rel="noopener noreferer">${e}</a>`,_eveWhoLinkHtml=e=>_externalLinkHtml({serviceName:'evewho',href:e}),_zkillboardLinkHtml=e=>_externalLinkHtml({serviceName:'zkillboard',href:e}),_dotlanLinkHtml=e=>_externalLinkHtml({serviceName:'dotlan',href:e}),_infoPanel=({imageData:e,eveData:t,additionalInfo:a='',logoOnly:n=!1})=>{const l=`<span class="aa-intel-eve-image-wrapper">${e}</span>`;if(n)return l;return`${l}<span class="aa-intel-eve-information-wrapper">${`<span class="aa-intel-eve-name-wrapper">${t}</span>`}${a?`<span class="aa-intel-additional-information-wrapper"><small>${a}</small></span>`:''}</span>`},pilotInfoPanel=e=>{const t=_eveImageHtml({eveId:e.id,eveName:e.name,imageSource:e.portrait}),a=`${_eveWhoLinkHtml(e.evewho)} | ${_zkillboardLinkHtml(e.zkillboard)}`;return _infoPanel({imageData:t,eveData:e.name,additionalInfo:a})},corporationInfoPanel=(e,t=!1)=>{const a=_eveImageHtml({eveId:e.id,eveName:e.name,imageSource:e.logo}),n=e.id>=1e6&&e.id<=2e6?`(${aaIntelToolJsSettings.translation.scanData.npcCorp})`:`${_dotlanLinkHtml(e.dotlan)} | ${_zkillboardLinkHtml(e.zkillboard)}`;return _infoPanel({imageData:a,eveData:e.name,additionalInfo:n,logoOnly:t})},allianceInfoPanel=(e,t=!1)=>{const a=e.name||aaIntelToolJsSettings.translation.scanData.unaffiliated;if(t&&1===e.id)return'';const n=_eveImageHtml({eveId:e.id,eveName:a,imageSource:e.logo}),l=e.id>1?`${_dotlanLinkHtml(e.dotlan)} | ${_zkillboardLinkHtml(e.zkillboard)}`:aaIntelToolJsSettings.translation.scanData.noAlliance;return _infoPanel({imageData:n,eveData:a,additionalInfo:l,logoOnly:t})},shipInfoPanel=e=>{const t=_eveImageHtml({eveId:e.id,eveName:e.name,imageSource:e.image});return _infoPanel({imageData:t,eveData:e.name})};$(document).ready(()=>{const e=$('button#btn-copy-permalink-to-clipboard');ClipboardJS.isSupported()||e.remove();const t=({element:e,closeAfter:t=10})=>{e.fadeTo(1e3*t,500).slideUp(500,()=>{e.remove()})},a=({message:e,element:a,type:n})=>{const l='success'===n?'alert-success':'alert-danger',i=`alert-message-${n}`,o='success'===n?10:9999;a.html(`<div class="alert ${l} alert-dismissible ${i} d-flex align-items-center fade show">${e}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>`),t({element:$(`.${i}`),closeAfter:o})},n=({message:e,element:t})=>a({message:e,element:t,type:'success'}),l=({message:e,element:t})=>a({message:e,element:t,type:'error'}),i=e=>{const t=new ClipboardJS(e),a=({success:e,e:a})=>{const i=e?'success':'error',o=aaIntelToolJsSettings.translation.copyToClipboard.permalink.text[i];(e?n:l)({message:o,element:$('.aa-intel-copy-result')}),e&&a&&a.clearSelection(),t.destroy()};t.on('success',e=>a({success:!0,e:e})).on('error',()=>a({success:!1}))};e.click(()=>{i(`#${e.attr('id')}`)})});const _removeSearchFromColumnControl=(e,t=1)=>{const a=JSON.parse(JSON.stringify(e));return a[t]&&(a[t].content=[]),a};
//# sourceMappingURL=aa-intel-tool-scan-result-common.min.js.map