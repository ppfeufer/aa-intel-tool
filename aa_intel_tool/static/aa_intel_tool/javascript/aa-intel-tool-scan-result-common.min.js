'use strict';const aaIntelToolJsSettings=_getAaIntelToolJsSettings(),_toggleScanStickyHighlight=({element:e,type:a,scanType:t,excludeLinkElement:n='aa-intel-information-link',highlightOnly:l=!1})=>{const i={fleetcomposition:{add:'function'==typeof addFleetcompositionHighlight?addFleetcompositionHighlight:null,remove:'function'==typeof removeFleetcompositionHighlight?removeFleetcompositionHighlight:null,change:'function'==typeof changeFleetcompositionStickyHighlight?changeFleetcompositionStickyHighlight:null},dscan:{add:'function'==typeof addDscanHighlight?addDscanHighlight:null,remove:'function'==typeof removeDscanHighlight?removeDscanHighlight:null,change:'function'==typeof changeDscanStickyHighlight?changeDscanStickyHighlight:null},chatscan:{add:'function'==typeof addChatscanHighlight?addChatscanHighlight:null,remove:'function'==typeof removeChatscanHighlight?removeChatscanHighlight:null,change:'function'==typeof changeChatscanStickyHighlight?changeChatscanStickyHighlight:null}}[t],o=l?e=>e.addClass('aa-intel-highlight'):e=>i.add(a,e),s=l?e=>e.removeClass('aa-intel-highlight'):e=>i.remove(a,e);e.mouseenter(e=>{o($(e.currentTarget))}).mouseleave(e=>{s($(e.currentTarget))}),l||e.click(e=>{$(e.target).hasClass(n)?e.stopPropagation():i.change(a,$(e.currentTarget))})},_toggleFleetcompStickyHighlight=e=>{_toggleScanStickyHighlight({...e,scanType:'fleetcomposition'})},_toggleDscanStickyHighlight=e=>{_toggleScanStickyHighlight({...e,scanType:'dscan'})},_toggleChatscanStickyHighlight=e=>{_toggleScanStickyHighlight({...e,scanType:'chatscan'})},bootstrapTooltip=({selector:e='body',namespace:a='aa-intel-tool'})=>{document.querySelectorAll(`${e} [data-bs-tooltip="${a}"]`).forEach(e=>new bootstrap.Tooltip(e))},_eveImageHtml=({eveId:e,eveName:a,imageSource:t,imageSize:n=32})=>`<img class="eve-image rounded" data-eveid="${e}" src="${t}" alt="${a}" title="${a}" data-bs-tooltip="aa-intel-tool" loading="lazy" width="${n}" height="${n}">`,_externalLinkHtml=({serviceName:e,href:a})=>`<a class="aa-intel-information-link" href="${a}" target="_blank" rel="noopener noreferer">${e}</a>`,_eveWhoLinkHtml=e=>_externalLinkHtml({serviceName:'evewho',href:e}),_zkillboardLinkHtml=e=>_externalLinkHtml({serviceName:'zkillboard',href:e}),_dotlanLinkHtml=e=>_externalLinkHtml({serviceName:'dotlan',href:e}),_infoPanel=({imageData:e,eveData:a,additionalInfo:t='',logoOnly:n=!1})=>{const l=`<span class="aa-intel-eve-image-wrapper">${e}</span>`;if(n)return l;return`${l}<span class="aa-intel-eve-information-wrapper">${`<span class="aa-intel-eve-name-wrapper">${a}</span>`}${t?`<span class="aa-intel-additional-information-wrapper"><small>${t}</small></span>`:''}</span>`},pilotInfoPanel=e=>{const a=_eveImageHtml({eveId:e.id,eveName:e.name,imageSource:e.portrait}),t=`${_eveWhoLinkHtml(e.evewho)} | ${_zkillboardLinkHtml(e.zkillboard)}`;return _infoPanel({imageData:a,eveData:e.name,additionalInfo:t})},corporationInfoPanel=(e,a=!1)=>{const t=_eveImageHtml({eveId:e.id,eveName:e.name,imageSource:e.logo}),n=e.id>=1e6&&e.id<=2e6?`(${aaIntelToolJsSettings.translation.scanData.npcCorp})`:`${_dotlanLinkHtml(e.dotlan)} | ${_zkillboardLinkHtml(e.zkillboard)}`;return _infoPanel({imageData:t,eveData:e.name,additionalInfo:n,logoOnly:a})},allianceInfoPanel=(e,a=!1)=>{const t=e.name||aaIntelToolJsSettings.translation.scanData.unaffiliated;if(a&&1===e.id)return'';const n=_eveImageHtml({eveId:e.id,eveName:t,imageSource:e.logo}),l=e.id>1?`${_dotlanLinkHtml(e.dotlan)} | ${_zkillboardLinkHtml(e.zkillboard)}`:aaIntelToolJsSettings.translation.scanData.noAlliance;return _infoPanel({imageData:n,eveData:t,additionalInfo:l,logoOnly:a})},shipInfoPanel=e=>{const a=_eveImageHtml({eveId:e.id,eveName:e.name,imageSource:e.image});return _infoPanel({imageData:a,eveData:e.name})};$(document).ready(()=>{const e=$('button#btn-copy-permalink-to-clipboard');ClipboardJS.isSupported()||e.remove();const a=({element:e,closeAfter:a=10})=>{e.fadeTo(1e3*a,500).slideUp(500,()=>{e.remove()})},t=({message:e,element:t,type:n})=>{const l='success'===n?'alert-success':'alert-danger',i=`alert-message-${n}`,o='success'===n?10:9999;t.html(`<div class="alert ${l} alert-dismissible ${i} d-flex align-items-center fade show">${e}<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button></div>`),a({element:$(`.${i}`),closeAfter:o})},n=({message:e,element:a})=>t({message:e,element:a,type:'success'}),l=({message:e,element:a})=>t({message:e,element:a,type:'error'}),i=e=>{const a=new ClipboardJS(e),t=({success:e,e:t})=>{const i=e?'success':'error',o=aaIntelToolJsSettings.translation.copyToClipboard.permalink.text[i];(e?n:l)({message:o,element:$('.aa-intel-copy-result')}),e&&t&&t.clearSelection(),a.destroy()};a.on('success',e=>t({success:!0,e:e})).on('error',()=>t({success:!1}))};e.click(()=>{i(`#${e.attr('id')}`)})});
//# sourceMappingURL=aa-intel-tool-scan-result-common.min.js.map