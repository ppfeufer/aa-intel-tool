$(()=>{'use strict';const a=$('table.aa-intel-dscan-ship-classes-all-list'),e=$('span#aa-intel-dscan-all-count'),t=$('span#aa-intel-dscan-all-mass'),s=$('table.aa-intel-dscan-ship-classes-ongrid-list'),l=$('span#aa-intel-dscan-ongrid-count'),n=$('span#aa-intel-dscan-ongrid-mass'),i=$('table.aa-intel-dscan-ship-classes-offgrid-list'),o=$('span#aa-intel-dscan-offgrid-count'),d=$('span#aa-intel-dscan-offgrid-mass'),r=$('table.aa-intel-dscan-ship-types-list'),c=$('table.aa-intel-dscan-upwell-structures-list'),g=$('span#aa-intel-dscan-upwell-structures-count'),p=$('table.aa-intel-dscan-deployables-list'),h=$('span#aa-intel-dscan-deployables-count'),m=$('table.aa-intel-dscan-starbases-list'),u=$('span#aa-intel-dscan-starbases-count');fetchGet({url:aaIntelToolJsSettings.url.getShipClassesAll}).then(s=>{s&&($('div.aa-intel-loading-table-info-all').addClass('d-none'),0===Object.keys(s).length?$('div.aa-intel-empty-table-info-all').removeClass('d-none'):($('div.table-dscan-ship-classes-all').removeClass('d-none'),a.DataTable({data:s,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:a=>shipInfoPanel(a)},{data:'count'},{data:'type_name'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:45,createdCell:a=>{$(a).addClass('text-end')}},{targets:2,visible:!1}],createdRow:(a,s)=>{const l=e.html(),n=parseInt(l)+s.count;e.html(n);const i=t.data('mass')||0,o=parseInt(i)+s.mass;t.data('mass',o),t.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(o)),$(a).addClass(`aa-intel-shipclass-all-item aa-intel-shipclass-id-${s.id} aa-intel-shiptype-id-${s.type_id}`).attr('data-shipclass-id',s.id).attr('data-shiptype-id',s.type_id)},initComplete:()=>{const a=$('.aa-intel-shipclass-all-item');a.mouseenter(a=>{addDscanHighlight('shipclass',$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight('shipclass',$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass('aa-intel-information-link')?a.stopPropagation():changeDscanStickyHighlight('shipclass',$(a.currentTarget))}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-classes-all-list'})}})))}).catch(a=>{console.error('Error fetching all ship classes data:',a)}),fetchGet({url:aaIntelToolJsSettings.url.getShipClassesOngrid}).then(a=>{a&&($('div.aa-intel-loading-table-info-ongrid').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-ongrid').removeClass('d-none'):($('div.table-dscan-ship-classes-ongrid').removeClass('d-none'),s.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:a=>shipInfoPanel(a)},{data:'count'},{data:'type_name'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:45,createdCell:a=>{$(a).addClass('text-end')}},{targets:2,visible:!1}],createdRow:(a,e)=>{const t=l.html(),s=parseInt(t)+e.count;l.html(s);const i=n.data('mass')||0,o=parseInt(i)+e.mass;n.data('mass',o),n.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(o)),$(a).addClass(`aa-intel-shipclass-ongrid-item aa-intel-shipclass-id-${e.id} aa-intel-shiptype-id-${e.type_id}`).attr('data-shipclass-id',e.id).attr('data-shiptype-id',e.type_id)},initComplete:()=>{const a=$('.aa-intel-shipclass-ongrid-item');a.mouseenter(a=>{addDscanHighlight('shipclass',$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight('shipclass',$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass('aa-intel-information-link')?a.stopPropagation():changeDscanStickyHighlight('shipclass',$(a.currentTarget))}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-classes-ongrid-list'})}})))}).catch(a=>{console.error('Error fetching ongrid ship classes data:',a)}),fetchGet({url:aaIntelToolJsSettings.url.getShipClassesOffgrid}).then(a=>{a&&($('div.aa-intel-loading-table-info-offgrid').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-offgrid').removeClass('d-none'):($('div.table-dscan-ship-classes-offgrid').removeClass('d-none'),i.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:a=>shipInfoPanel(a)},{data:'count'},{data:'type_name'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:45,createdCell:a=>{$(a).addClass('text-end')}},{targets:2,visible:!1}],createdRow:(a,e)=>{const t=o.html(),s=parseInt(t)+e.count;o.html(s);const l=d.data('mass')||0,n=parseInt(l)+e.mass;d.data('mass',n),d.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(n)),$(a).addClass(`aa-intel-shipclass-offgrid-item aa-intel-shipclass-id-${e.id} aa-intel-shiptype-id-${e.type_id}`).attr('data-shipclass-id',e.id).attr('data-shiptype-id',e.type_id)},initComplete:()=>{const a=$('.aa-intel-shipclass-offgrid-item');a.mouseenter(a=>{addDscanHighlight('shipclass',$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight('shipclass',$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass('aa-intel-information-link')?a.stopPropagation():changeDscanStickyHighlight('shipclass',$(a.currentTarget))}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-classes-offgrid-list'})}})))}).catch(a=>{console.error('Error fetching offgrid ship classes data:',a)}),fetchGet({url:aaIntelToolJsSettings.url.getShipTypes}).then(a=>{a&&($('div.aa-intel-loading-table-info-ship-types').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-ship-types').removeClass('d-none'):($('div.table-dscan-ship-types').removeClass('d-none'),r.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:'name'},{data:'count'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:a=>{$(a).addClass('text-end')}}],createdRow:(a,e)=>{$(a).addClass(`aa-intel-shiptype-item aa-intel-shiptype-id-${e.id}`).attr('data-shiptype-id',e.id)},initComplete:()=>{const a=$('.aa-intel-shiptype-item');a.mouseenter(a=>{addDscanHighlight('shiptype',$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight('shiptype',$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass('aa-intel-information-link')?a.stopPropagation():changeDscanStickyHighlight('shiptype',$(a.currentTarget))})}})))}).catch(a=>{console.error('Error fetching ship types data:',a)}),fetchGet({url:aaIntelToolJsSettings.url.getStructuresOnGrid}).then(a=>{a&&($('div.aa-intel-loading-table-info-upwell-structures').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-upwell-structures').removeClass('d-none'):($('div#aa-intel-dscan-row-interesting-on-grid').removeClass('d-none'),$('div.col-aa-intel-upwell-structures').removeClass('d-none'),c.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:a=>{$(a).addClass('text-end')}}],createdRow:(a,e)=>{const t=g.html(),s=parseInt(t)+e.count;g.html(s),$(a).addClass(`aa-intel-structuretype-item aa-intel-structuretype-id-${e.id}`).attr('data-structuretype-id',e.id)},initComplete:()=>{$('.aa-intel-structuretype-item').mouseenter(a=>{$(a.currentTarget).addClass('aa-intel-highlight')}).mouseleave(a=>{$(a.currentTarget).removeClass('aa-intel-highlight')}),bootstrapTooltip({selector:'.aa-intel-dscan-upwell-structures-list'})}})))}).catch(a=>{console.error('Error fetching upwell structures data:',a)}),fetchGet({url:aaIntelToolJsSettings.url.getDeployablesOnGrid}).then(a=>{a&&($('div.aa-intel-loading-table-info-deployables').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-deployables').removeClass('d-none'):($('div#aa-intel-dscan-row-interesting-on-grid').removeClass('d-none'),$('div.col-aa-intel-deployables').removeClass('d-none'),p.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:a=>{$(a).addClass('text-end')}}],createdRow:(a,e)=>{const t=h.html(),s=parseInt(t)+e.count;h.html(s),$(a).addClass(`aa-intel-deployabletype-item aa-intel-deployabletype-id-${e.id}`).attr('data-deployabletype-id',e.id)},initComplete:()=>{$('.aa-intel-deployabletype-item').mouseenter(a=>{$(a.currentTarget).addClass('aa-intel-highlight')}).mouseleave(a=>{$(a.currentTarget).removeClass('aa-intel-highlight')}),bootstrapTooltip({selector:'.aa-intel-dscan-deployables-list'})}})))}).catch(a=>{console.error('Error fetching deployables data:',a)}),fetchGet({url:aaIntelToolJsSettings.url.getStarbasesOnGrid}).then(a=>{a&&($('div.aa-intel-loading-table-info-starbases').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-starbases').removeClass('d-none'):($('div#aa-intel-dscan-row-interesting-on-grid').removeClass('d-none'),$('div.col-aa-intel-starbases').removeClass('d-none'),m.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:a=>{$(a).addClass('text-end')}}],createdRow:(a,e)=>{const t=u.html(),s=parseInt(t)+e.count;u.html(s),$(a).addClass(`aa-intel-starbasetype-item aa-intel-starbasetype-id-${e.id}`).attr('data-starbasetype-id',e.id)},initComplete:()=>{$('.aa-intel-starbasetype-item').mouseenter(a=>{$(a.currentTarget).addClass('aa-intel-highlight')}).mouseleave(a=>{$(a.currentTarget).removeClass('aa-intel-highlight')}),bootstrapTooltip({selector:'.aa-intel-dscan-starbases-list'})}})))}).catch(a=>{console.error('Error fetching starbases data:',a)})});
//# sourceMappingURL=aa-intel-tool-dscan.min.js.map