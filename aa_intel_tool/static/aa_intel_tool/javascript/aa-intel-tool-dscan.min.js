jQuery(document).ready($=>{"use strict";const elementShipClassesAllTable=$("table.aa-intel-dscan-ship-classes-all-list");const elementDscanCountAll=$("span#aa-intel-dscan-all-count");const elementShipClassesOngridTable=$("table.aa-intel-dscan-ship-classes-ongrid-list");const elementDscanCountOngrid=$("span#aa-intel-dscan-ongrid-count");const elementShipClassesOffgridTable=$("table.aa-intel-dscan-ship-classes-offgrid-list");const elementDscanCountOffgrid=$("span#aa-intel-dscan-offgrid-count");const elementShipTypesTable=$("table.aa-intel-dscan-ship-types-list");const ShipInfoPanel=shipData=>{let html_logo=""+'<span class="aa-intel-ship-image-wrapper">\n'+"    <img "+'        class="eve-image" '+'        data-eveid="'+shipData["id"]+'" '+'        src="'+shipData["image"]+'" '+'        alt="'+shipData["name"]+'" '+'        title="'+shipData["name"]+'" '+'        width="32" '+'        height="32">\n'+"</span>";let html_info=""+'<span class="aa-intel-ship-information-wrapper">\n'+'    <span class="aa-intel-ship-name-wrapper">\n'+"        "+shipData["name"]+"\n"+"    </span>\n"+"</span>\n";return html_logo+html_info};fetch(aaIntelToolJsOptions.ajax.getShipClassesAll).then(response=>{if(response.ok){return Promise.resolve(response)}else{return Promise.reject(new Error("Failed to load"))}}).then(response=>response.json()).then(tableData=>{$("div.aa-intel-loading-table-info-all").hide();if(Object.keys(tableData).length===0){elementShipClassesOffgridTable.hide();$("div.aa-intel-empty-table-info-all").show()}else{$("div.table-dscan-ship-classes-all").show();elementShipClassesAllTable.DataTable({data:tableData,paging:false,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:false,dom:"<'row'<'col-sm-12'f>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-12'i>>",columns:[{data:data=>{return ShipInfoPanel(data)}},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:td=>{$(td).addClass("text-ellipsis")}},{targets:1,width:45,createdCell:td=>{$(td).addClass("text-right")}},{targets:2,visible:false}],createdRow:(row,data)=>{const currentTotal=elementDscanCountAll.html();const newTotal=parseInt(currentTotal)+data["count"];elementDscanCountAll.html(newTotal);$(row).attr("data-shipclass-id",data["id"]).attr("data-shiptype-id",data["type_id"]);$(row).mouseenter(()=>{addHightlight("shipclass",$(row))}).mouseleave(()=>{removeHightlight("shipclass",$(row))});$(row).click(()=>{changeStickyHighlight("shipclass",$(row))}).click(".aa-intel-information-link",e=>{e.stopPropagation()})}})}}).catch(function(error){console.log(`Error: ${error.message}`)});fetch(aaIntelToolJsOptions.ajax.getShipClassesOngrid).then(response=>{if(response.ok){return Promise.resolve(response)}else{return Promise.reject(new Error("Failed to load"))}}).then(response=>response.json()).then(tableData=>{$("div.aa-intel-loading-table-info-ongrid").hide();if(Object.keys(tableData).length===0){elementShipClassesOffgridTable.hide();$("div.aa-intel-empty-table-info-ongrid").show()}else{$("div.table-dscan-ship-classes-ongrid").show();elementShipClassesOngridTable.DataTable({data:tableData,paging:false,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:false,dom:"<'row'<'col-sm-12'f>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-12'i>>",columns:[{data:data=>{return ShipInfoPanel(data)}},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:td=>{$(td).addClass("text-ellipsis")}},{targets:1,width:45,createdCell:td=>{$(td).addClass("text-right")}},{targets:2,visible:false}],createdRow:(row,data)=>{const currentTotal=elementDscanCountOngrid.html();const newTotal=parseInt(currentTotal)+data["count"];elementDscanCountOngrid.html(newTotal);$(row).attr("data-shipclass-id",data["id"]).attr("data-shiptype-id",data["type_id"]);$(row).mouseenter(()=>{addHightlight("shipclass",$(row))}).mouseleave(()=>{removeHightlight("shipclass",$(row))});$(row).click(()=>{changeStickyHighlight("shipclass",$(row))}).click(".aa-intel-information-link",e=>{e.stopPropagation()})}})}}).catch(function(error){console.log(`Error: ${error.message}`)});fetch(aaIntelToolJsOptions.ajax.getShipClassesOffgrid).then(response=>{if(response.ok){return Promise.resolve(response)}else{return Promise.reject(new Error("Failed to load"))}}).then(response=>response.json()).then(tableData=>{$("div.aa-intel-loading-table-info-offgrid").hide();if(Object.keys(tableData).length===0){elementShipClassesOffgridTable.hide();$("div.aa-intel-empty-table-info-offgrid").show()}else{$("div.table-dscan-ship-classes-offgrid").show();elementShipClassesOffgridTable.DataTable({data:tableData,paging:false,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:false,dom:"<'row'<'col-sm-12'f>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-12'i>>",columns:[{data:data=>{return ShipInfoPanel(data)}},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:td=>{$(td).addClass("text-ellipsis")}},{targets:1,width:45,createdCell:td=>{$(td).addClass("text-right")}},{targets:2,visible:false}],createdRow:(row,data)=>{const currentTotal=elementDscanCountOffgrid.html();const newTotal=parseInt(currentTotal)+data["count"];elementDscanCountOffgrid.html(newTotal);$(row).attr("data-shipclass-id",data["id"]).attr("data-shiptype-id",data["type_id"]);$(row).mouseenter(()=>{addHightlight("shipclass",$(row))}).mouseleave(()=>{removeHightlight("shipclass",$(row))});$(row).click(()=>{changeStickyHighlight("shipclass",$(row))}).click(".aa-intel-information-link",e=>{e.stopPropagation()})}})}}).catch(function(error){console.log(`Error: ${error.message}`)});fetch(aaIntelToolJsOptions.ajax.getShipTypes).then(response=>{if(response.ok){return Promise.resolve(response)}else{return Promise.reject(new Error("Failed to load"))}}).then(response=>response.json()).then(tableData=>{$("div.aa-intel-loading-table-info-ship-types").hide();if(Object.keys(tableData).length===0){elementShipClassesOffgridTable.hide();$("div.aa-intel-empty-table-info-ship-types").show()}else{$("table.aa-intel-empty-table-info-ship-types").show();elementShipTypesTable.DataTable({data:tableData,paging:false,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:false,dom:"<'row'<'col-sm-12'f>>"+"<'row'<'col-sm-12'tr>>"+"<'row'<'col-sm-12'i>>",columns:[{data:"name"},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:1,width:45,createdCell:td=>{$(td).addClass("text-right")}}],createdRow:(row,data)=>{$(row).attr("data-shiptype-id",data["id"]);$(row).mouseenter(()=>{addHightlight("shiptype",$(row))}).mouseleave(()=>{removeHightlight("shiptype",$(row))});$(row).click(()=>{changeStickyHighlight("shiptype",$(row))}).click(".aa-intel-information-link",e=>{e.stopPropagation()})}})}}).catch(function(error){console.log(`Error: ${error.message}`)})});