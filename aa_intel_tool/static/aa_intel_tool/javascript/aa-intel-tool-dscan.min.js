$(document).ready(()=>{'use strict';const a=_getAaIntelToolJsSettings(),t={shipClassesAllTable:$('table.aa-intel-dscan-ship-classes-all-list'),dscanCountAll:$('span#aa-intel-dscan-all-count'),dscanMassAll:$('span#aa-intel-dscan-all-mass'),shipClassesOngridTable:$('table.aa-intel-dscan-ship-classes-ongrid-list'),dscanCountOngrid:$('span#aa-intel-dscan-ongrid-count'),dscanMassOnGrid:$('span#aa-intel-dscan-ongrid-mass'),shipClassesOffgridTable:$('table.aa-intel-dscan-ship-classes-offgrid-list'),dscanCountOffgrid:$('span#aa-intel-dscan-offgrid-count'),dscanMassOffGrid:$('span#aa-intel-dscan-offgrid-mass'),shipTypesTable:$('table.aa-intel-dscan-ship-types-list'),upwellStructuresTable:$('table.aa-intel-dscan-upwell-structures-list'),dscanCountUpwellStructures:$('span#aa-intel-dscan-upwell-structures-count'),deployablesTable:$('table.aa-intel-dscan-deployables-list'),dscanCountDeployables:$('span#aa-intel-dscan-deployables-count'),starbasesTable:$('table.aa-intel-dscan-starbases-list'),dscanCountStarbases:$('span#aa-intel-dscan-starbases-count')},e=[[1,'desc'],[0,'asc']],s=[{target:0,createdCell:a=>$(a).addClass('text-ellipsis fix-eve-image-position')},{target:1,width:35,createdCell:a=>$(a).addClass('text-end'),columnControl:_removeSearchFromColumnControl(a.dataTables.columnControl,1)}],l=({key:t,loadingKey:l,tableEl:n,url:i,containerSelector:o,extraSelectors:d,rowItemClass:r,extraRowClass:c,idAttr:p,typeIdAttr:u,countEl:g,massEl:h,columns:b,tooltipSelector:y,highlightType:m,highlightOnly:C,order:f})=>{fetchGet({url:i}).then(i=>{if(!i)return;if($(`div.aa-intel-loading-table-info-${l||t}`).addClass('d-none'),0===Object.keys(i).length)return void $(`div.aa-intel-empty-table-info-${l||t}`).removeClass('d-none');o&&$(o).removeClass('d-none'),d&&d.forEach(a=>$(a).removeClass('d-none'));new DataTable(n,{data:i,paging:!1,language:a.language.dataTables,lengthChange:!1,dom:a.dataTables.dom,ordering:a.dataTables.ordering,columnControl:a.dataTables.columnControl,columns:b,order:f||e,columnDefs:s,createdRow:(t,e)=>{if(g){const a=parseInt(g.html())||0;g.html(a+(e.count||0))}if(h){const t=(parseInt(h.data('mass'))||0)+(e.mass||0);h.data('mass',t),h.html(numberFormatter({value:t,locales:a.language.django}))}r&&$(t).addClass(r),p&&$(t).attr(p,e.id),u&&void 0!==e.type_id&&$(t).attr(u,e.type_id),c&&$(t).addClass(c)},initComplete:()=>{if(r){const a=`.${r.split(' ').join('.')}`,t=$(a);_toggleDscanStickyHighlight({element:t,type:m||'shipclass',highlightOnly:!!C})}y&&bootstrapTooltip({selector:y})}})}).catch(a=>{console.error(`Error fetching ${t} data:`,a)})};l({key:'all',loadingKey:'all',tableEl:t.shipClassesAllTable,url:a.url.getShipClassesAll,containerSelector:'div.table-dscan-ship-classes-all',rowItemClass:'aa-intel-shipclass-all-item',extraRowClass:null,idAttr:'data-shipclass-id',typeIdAttr:'data-shiptype-id',countEl:t.dscanCountAll,massEl:t.dscanMassAll,columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],tooltipSelector:'.aa-intel-dscan-ship-classes-all-list'}),l({key:'ongrid',loadingKey:'ongrid',tableEl:t.shipClassesOngridTable,url:a.url.getShipClassesOngrid,containerSelector:'div.table-dscan-ship-classes-ongrid',rowItemClass:'aa-intel-shipclass-ongrid-item',idAttr:'data-shipclass-id',typeIdAttr:'data-shiptype-id',countEl:t.dscanCountOngrid,massEl:t.dscanMassOnGrid,columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],tooltipSelector:'.aa-intel-dscan-ship-classes-ongrid-list'}),l({key:'offgrid',loadingKey:'offgrid',tableEl:t.shipClassesOffgridTable,url:a.url.getShipClassesOffgrid,containerSelector:'div.table-dscan-ship-classes-offgrid',rowItemClass:'aa-intel-shipclass-offgrid-item',idAttr:'data-shipclass-id',typeIdAttr:'data-shiptype-id',countEl:t.dscanCountOffgrid,massEl:t.dscanMassOffGrid,columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],tooltipSelector:'.aa-intel-dscan-ship-classes-offgrid-list'}),l({key:'ship-types',loadingKey:'ship-types',tableEl:t.shipTypesTable,url:a.url.getShipTypes,containerSelector:'div.table-dscan-ship-types',rowItemClass:'aa-intel-shiptype-item',idAttr:'data-shiptype-id',columns:[{data:'name'},{data:'count'}],highlightType:'shiptype'}),l({key:'upwell-structures',loadingKey:'upwell-structures',tableEl:t.upwellStructuresTable,url:a.url.getStructuresOnGrid,containerSelector:'div#aa-intel-dscan-row-interesting-on-grid',extraSelectors:['div.col-aa-intel-upwell-structures'],rowItemClass:'aa-intel-structuretype-item',idAttr:'data-structuretype-id',countEl:t.dscanCountUpwellStructures,columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],highlightOnly:!0,tooltipSelector:'.aa-intel-dscan-upwell-structures-list'}),l({key:'deployables',loadingKey:'deployables',tableEl:t.deployablesTable,url:a.url.getDeployablesOnGrid,containerSelector:'div#aa-intel-dscan-row-interesting-on-grid',extraSelectors:['div.col-aa-intel-deployables'],rowItemClass:'aa-intel-deployabletype-item',idAttr:'data-deployabletype-id',countEl:t.dscanCountDeployables,columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],highlightOnly:!0,tooltipSelector:'.aa-intel-dscan-deployables-list'}),l({key:'starbases',loadingKey:'starbases',tableEl:t.starbasesTable,url:a.url.getStarbasesOnGrid,containerSelector:'div#aa-intel-dscan-row-interesting-on-grid',extraSelectors:['div.col-aa-intel-starbases'],rowItemClass:'aa-intel-starbasetype-item',idAttr:'data-starbasetype-id',countEl:t.dscanCountStarbases,columns:[{data:a=>shipInfoPanel(a)},{data:'count'}],highlightOnly:!0,tooltipSelector:'.aa-intel-dscan-starbases-list'})});
//# sourceMappingURL=aa-intel-tool-dscan.min.js.map