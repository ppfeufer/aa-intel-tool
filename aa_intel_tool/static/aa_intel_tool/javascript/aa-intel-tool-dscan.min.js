$(()=>{const e=$("table.aa-intel-dscan-ship-classes-all-list"),i=$("span#aa-intel-dscan-all-count"),o=$("span#aa-intel-dscan-all-mass"),t=$("table.aa-intel-dscan-ship-classes-ongrid-list"),d=$("span#aa-intel-dscan-ongrid-count"),r=$("span#aa-intel-dscan-ongrid-mass"),s=$("table.aa-intel-dscan-ship-classes-offgrid-list"),c=$("span#aa-intel-dscan-offgrid-count"),g=$("span#aa-intel-dscan-offgrid-mass"),l=$("table.aa-intel-dscan-ship-types-list"),n=$("table.aa-intel-dscan-upwell-structures-list"),p=$("span#aa-intel-dscan-upwell-structures-count"),h=$("table.aa-intel-dscan-deployables-list"),m=$("span#aa-intel-dscan-deployables-count"),u=$("table.aa-intel-dscan-starbases-list"),b=$("span#aa-intel-dscan-starbases-count");fetchAjaxData(aaIntelToolJsSettings.url.getShipClassesAll).then(a=>{a&&($("div.aa-intel-loading-table-info-all").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-all").removeClass("d-none"):($("div.table-dscan-ship-classes-all").removeClass("d-none"),e.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:45,createdCell:a=>{$(a).addClass("text-end")}},{targets:2,visible:!1}],createdRow:(a,e)=>{const t=i.html(),s=parseInt(t)+e.count,l=(i.html(s),o.data("mass")||0),n=parseInt(l)+e.mass;o.data("mass",n),o.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(n)),$(a).addClass(`aa-intel-shipclass-all-item aa-intel-shipclass-id-${e.id} aa-intel-shiptype-id-${e.type_id}`).attr("data-shipclass-id",e.id).attr("data-shiptype-id",e.type_id)}})))}).then(()=>{const a=$(".aa-intel-shipclass-all-item");a.mouseenter(a=>{addDscanHighlight("shipclass",$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight("shipclass",$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass("aa-intel-information-link")?a.stopPropagation():changeDscanStickyHighlight("shipclass",$(a.currentTarget))}),bootstrapTooltip(".aa-intel-dscan-ship-classes-all-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getShipClassesOngrid).then(a=>{a&&($("div.aa-intel-loading-table-info-ongrid").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-ongrid").removeClass("d-none"):($("div.table-dscan-ship-classes-ongrid").removeClass("d-none"),t.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:45,createdCell:a=>{$(a).addClass("text-end")}},{targets:2,visible:!1}],createdRow:(a,e)=>{const t=d.html(),s=parseInt(t)+e.count,l=(d.html(s),r.data("mass")||0),n=parseInt(l)+e.mass;r.data("mass",n),r.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(n)),$(a).addClass(`aa-intel-shipclass-ongrid-item aa-intel-shipclass-id-${e.id} aa-intel-shiptype-id-${e.type_id}`).attr("data-shipclass-id",e.id).attr("data-shiptype-id",e.type_id)}})))}).then(()=>{const a=$(".aa-intel-shipclass-ongrid-item");a.mouseenter(a=>{addDscanHighlight("shipclass",$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight("shipclass",$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass("aa-intel-information-link")?a.stopPropagation():changeDscanStickyHighlight("shipclass",$(a.currentTarget))}),bootstrapTooltip(".aa-intel-dscan-ship-classes-ongrid-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getShipClassesOffgrid).then(a=>{a&&($("div.aa-intel-loading-table-info-offgrid").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-offgrid").removeClass("d-none"):($("div.table-dscan-ship-classes-offgrid").removeClass("d-none"),s.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:45,createdCell:a=>{$(a).addClass("text-end")}},{targets:2,visible:!1}],createdRow:(a,e)=>{const t=c.html(),s=parseInt(t)+e.count,l=(c.html(s),g.data("mass")||0),n=parseInt(l)+e.mass;g.data("mass",n),g.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(n)),$(a).addClass(`aa-intel-shipclass-offgrid-item aa-intel-shipclass-id-${e.id} aa-intel-shiptype-id-${e.type_id}`).attr("data-shipclass-id",e.id).attr("data-shiptype-id",e.type_id)}})))}).then(()=>{const a=$(".aa-intel-shipclass-offgrid-item");a.mouseenter(a=>{addDscanHighlight("shipclass",$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight("shipclass",$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass("aa-intel-information-link")?a.stopPropagation():changeDscanStickyHighlight("shipclass",$(a.currentTarget))}),bootstrapTooltip(".aa-intel-dscan-ship-classes-offgrid-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getShipTypes).then(a=>{a&&($("div.aa-intel-loading-table-info-ship-types").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-ship-types").removeClass("d-none"):($("div.table-dscan-ship-types").removeClass("d-none"),l.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:"name"},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:35,createdCell:a=>{$(a).addClass("text-end")}}],createdRow:(a,e)=>{$(a).addClass(`aa-intel-shiptype-item aa-intel-shiptype-id-${e.id}`).attr("data-shiptype-id",e.id)}})))}).then(()=>{const a=$(".aa-intel-shiptype-item");a.mouseenter(a=>{addDscanHighlight("shiptype",$(a.currentTarget))}).mouseleave(a=>{removeDscanHighlight("shiptype",$(a.currentTarget))}),a.click(a=>{$(a.target).hasClass("aa-intel-information-link")?a.stopPropagation():changeDscanStickyHighlight("shiptype",$(a.currentTarget))})}),fetchAjaxData(aaIntelToolJsSettings.url.getStructuresOnGrid).then(a=>{a&&($("div.aa-intel-loading-table-info-upwell-structures").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-upwell-structures").removeClass("d-none"):($("div#aa-intel-dscan-row-interesting-on-grid").removeClass("d-none"),$("div.col-aa-intel-upwell-structures").removeClass("d-none"),n.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:35,createdCell:a=>{$(a).addClass("text-end")}}],createdRow:(a,e)=>{const t=p.html(),s=parseInt(t)+e.count;p.html(s),$(a).addClass(`aa-intel-structuretype-item aa-intel-structuretype-id-${e.id}`).attr("data-structuretype-id",e.id)}})))}).then(()=>{const a=$(".aa-intel-structuretype-item");a.mouseenter(a=>{$(a.currentTarget).addClass("aa-intel-highlight")}).mouseleave(a=>{$(a.currentTarget).removeClass("aa-intel-highlight")}),bootstrapTooltip(".aa-intel-dscan-upwell-structures-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getDeployablesOnGrid).then(a=>{a&&($("div.aa-intel-loading-table-info-deployables").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-deployables").removeClass("d-none"):($("div#aa-intel-dscan-row-interesting-on-grid").removeClass("d-none"),$("div.col-aa-intel-deployables").removeClass("d-none"),h.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:35,createdCell:a=>{$(a).addClass("text-end")}}],createdRow:(a,e)=>{const t=m.html(),s=parseInt(t)+e.count;m.html(s),$(a).addClass(`aa-intel-deployabletype-item aa-intel-deployabletype-id-${e.id}`).attr("data-deployabletype-id",e.id)}})))}).then(()=>{const a=$(".aa-intel-deployabletype-item");a.mouseenter(a=>{$(a.currentTarget).addClass("aa-intel-highlight")}).mouseleave(a=>{$(a.currentTarget).removeClass("aa-intel-highlight")}),bootstrapTooltip(".aa-intel-dscan-deployables-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getStarbasesOnGrid).then(a=>{a&&($("div.aa-intel-loading-table-info-starbases").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-starbases").removeClass("d-none"):($("div#aa-intel-dscan-row-interesting-on-grid").removeClass("d-none"),$("div.col-aa-intel-starbases").removeClass("d-none"),u.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:35,createdCell:a=>{$(a).addClass("text-end")}}],createdRow:(a,e)=>{const t=b.html(),s=parseInt(t)+e.count;b.html(s),$(a).addClass(`aa-intel-starbasetype-item aa-intel-starbasetype-id-${e.id}`).attr("data-starbasetype-id",e.id)}})))}).then(()=>{const a=$(".aa-intel-starbasetype-item");a.mouseenter(a=>{$(a.currentTarget).addClass("aa-intel-highlight")}).mouseleave(a=>{$(a.currentTarget).removeClass("aa-intel-highlight")}),bootstrapTooltip(".aa-intel-dscan-starbases-list")})});
//# sourceMappingURL=aa-intel-tool-dscan.min.js.map