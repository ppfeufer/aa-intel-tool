$(()=>{const a=$("table.aa-intel-dscan-ship-classes-ship-classes-list"),i=$("span#aa-intel-dscan-ship-classes-mass"),e=$("table.aa-intel-dscan-ship-types-list"),s=$("table.aa-intel-fleetcomp-pilot-ships-list"),l=$("span#aa-intel-fleet-participation-count");fetchAjaxData(aaIntelToolJsSettings.url.getShipClasses).then(t=>{t&&($("div.aa-intel-loading-table-info-ship-classes").addClass("d-none"),0===Object.keys(t).length?$("div.aa-intel-empty-table-info-ship-classes").removeClass("d-none"):($("div.table-dscan-ship-classes-ship-classes").removeClass("d-none"),a.DataTable({data:t,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:t=>shipInfoPanel(t)},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:t=>{$(t).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:35,createdCell:t=>{$(t).addClass("text-end")}},{targets:2,visible:!1}],createdRow:(t,a)=>{const e=i.data("mass")||0,s=parseInt(e)+a.mass;i.data("mass",s),i.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(s)),$(t).addClass(`aa-intel-shipclass-item aa-intel-shipclass-id-${a.id} aa-intel-shiptype-id-${a.type_id}`).attr("data-shipclass-id",a.id).attr("data-shiptype-id",a.type_id)}})))}).then(()=>{const t=$(".aa-intel-shipclass-item");t.mouseenter(t=>{addFleetcompositionHighlight("shipclass",$(t.currentTarget))}).mouseleave(t=>{removeFleetcompositionHighlight("shipclass",$(t.currentTarget))}),t.click(t=>{$(t.target).hasClass("aa-intel-information-link")?t.stopPropagation():changeFleetcompositionStickyHighlight("shipclass",$(t.currentTarget))}),bootstrapTooltip(".aa-intel-dscan-ship-classes-ship-classes-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getShipTypes).then(t=>{t&&($("div.aa-intel-loading-table-info-ship-types").addClass("d-none"),0===Object.keys(t).length?$("div.aa-intel-empty-table-info-ship-types").removeClass("d-none"):($("div.table-dscan-ship-types").removeClass("d-none"),e.DataTable({data:t,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:"name"},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:t=>{$(t).addClass("text-ellipsis fix-eve-image-position")}},{targets:1,width:35,createdCell:t=>{$(t).addClass("text-end")}}],createdRow:(t,a)=>{$(t).addClass(`aa-intel-shiptype-item aa-intel-shiptype-id-${a.id}`).attr("data-shiptype-id",a.id)}})))}).then(()=>{const t=$(".aa-intel-shiptype-item");t.mouseenter(t=>{addFleetcompositionHighlight("shiptype",$(t.currentTarget))}).mouseleave(t=>{removeFleetcompositionHighlight("shiptype",$(t.currentTarget))}),t.click(t=>{$(t.target).hasClass("aa-intel-information-link")?t.stopPropagation():changeFleetcompositionStickyHighlight("shiptype",$(t.currentTarget))}),bootstrapTooltip(".aa-intel-dscan-ship-types-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getFleetComposition).then(t=>{t&&($("div.aa-intel-loading-table-info-fleetcomp-pilot-ships").addClass("d-none"),0===Object.keys(t).length?$("div.aa-intel-empty-table-info-fleetcomp-pilot-ships").removeClass("d-none"):($("div.table-fleetcomp-pilot-ships").removeClass("d-none"),s.DataTable({data:t,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:t=>pilotInfoPanel(t)},{data:"ship"},{data:"solarsystem"}],order:[[0,"asc"]],columnDefs:[{targets:0,createdCell:t=>{$(t).addClass("fix-eve-image-position")}}],createdRow:(t,a)=>{const e=l.html(),s=parseInt(e)+1;l.html(s),$(t).addClass(`aa-intel-pilotship-item aa-intel-shipclass-id-${a.ship_id} aa-intel-shiptype-id-${a.ship_type_id}`).attr("data-shipclass-id",a.ship_id).attr("data-shiptype-id",a.ship_type_id)}})))}).then(()=>{const t=$(".aa-intel-pilotship-item");t.mouseenter(t=>{addFleetcompositionHighlight("shiptype",$(t.currentTarget))}).mouseleave(t=>{removeFleetcompositionHighlight("shiptype",$(t.currentTarget))}),t.click(t=>{$(t.target).hasClass("aa-intel-information-link")?t.stopPropagation():changeFleetcompositionStickyHighlight("shiptype",$(t.currentTarget))}),bootstrapTooltip(".aa-intel-fleetcomp-pilot-ships-list")})});
//# sourceMappingURL=aa-intel-tool-fleetcomposition.min.js.map