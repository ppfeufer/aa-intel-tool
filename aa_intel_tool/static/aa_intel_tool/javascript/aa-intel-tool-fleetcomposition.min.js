$(()=>{const a=$("table.aa-intel-dscan-ship-classes-ship-classes-list"),i=$("span#aa-intel-dscan-ship-classes-mass"),e=$("table.aa-intel-dscan-ship-types-list"),s=$("table.aa-intel-fleetcomp-pilot-ships-list"),l=$("span#aa-intel-fleet-participation-count");fetchAjaxData(aaIntelToolJsSettings.url.getShipClasses).then(t=>{t&&($("div.aa-intel-loading-table-info-ship-classes").addClass("d-none"),0===Object.keys(t).length?$("div.aa-intel-empty-table-info-ship-classes").removeClass("d-none"):($("div.table-dscan-ship-classes-ship-classes").removeClass("d-none"),a.DataTable({data:t,paging:!1,language:aaIntelToolJsSettings.translation.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:t=>shipInfoPanel(t)},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:t=>{$(t).addClass("text-ellipsis")}},{targets:1,width:45,createdCell:t=>{$(t).addClass("text-end")}},{targets:2,visible:!1}],createdRow:(e,t)=>{const a=i.data("mass")||0,s=parseInt(a)+t.mass;i.data("mass",s),i.html(new Intl.NumberFormat(aaIntelToolJsSettings.language).format(s)),$(e).attr("data-shipclass-id",t.id).attr("data-shiptype-id",t.type_id),$(e).mouseenter(()=>{addFleetcompositionHightlight("shipclass",$(e))}).mouseleave(()=>{removeFleetcompositionHightlight("shipclass",$(e))}),$(e).click(t=>{const a=$(t.target);a.hasClass("aa-intel-information-link")?t.stopPropagation():changeFleetcompositionStickyHighlight("shipclass",$(e))})}})))}).then(()=>{bootstrapTooltip(".aa-intel-dscan-ship-classes-ship-classes-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getShipTypes).then(t=>{t&&($("div.aa-intel-loading-table-info-ship-types").addClass("d-none"),0===Object.keys(t).length?$("div.aa-intel-empty-table-info-ship-types").removeClass("d-none"):($("div.table-dscan-ship-types").removeClass("d-none"),e.DataTable({data:t,paging:!1,language:aaIntelToolJsSettings.translation.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:"name"},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:1,width:45,createdCell:t=>{$(t).addClass("text-end")}}],createdRow:(e,t)=>{$(e).attr("data-shiptype-id",t.id),$(e).mouseenter(()=>{addFleetcompositionHightlight("shiptype",$(e))}).mouseleave(()=>{removeFleetcompositionHightlight("shiptype",$(e))}),$(e).click(t=>{const a=$(t.target);a.hasClass("aa-intel-information-link")?t.stopPropagation():changeFleetcompositionStickyHighlight("shiptype",$(e))})}})))}).then(()=>{bootstrapTooltip(".aa-intel-dscan-ship-types-list")}),fetchAjaxData(aaIntelToolJsSettings.url.getFleetComposition).then(t=>{t&&($("div.aa-intel-loading-table-info-fleetcomp-pilot-ships").addClass("d-none"),0===Object.keys(t).length?$("div.aa-intel-empty-table-info-fleetcomp-pilot-ships").removeClass("d-none"):($("div.table-fleetcomp-pilot-ships").removeClass("d-none"),s.DataTable({data:t,paging:!1,language:aaIntelToolJsSettings.translation.dataTables,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:t=>pilotInfoPanel(t)},{data:"ship"},{data:"solarsystem"}],order:[[0,"asc"]],columnDefs:[{targets:0,createdCell:t=>{$(t).addClass("fix-eve-image-position")}}],createdRow:(e,t)=>{const a=l.html(),s=parseInt(a)+1;l.html(s),$(e).attr("data-shipclass-id",t.ship_id).attr("data-shiptype-id",t.ship_type_id),$(e).mouseenter(()=>{addFleetcompositionHightlight("shiptype",$(e))}).mouseleave(()=>{removeFleetcompositionHightlight("shiptype",$(e))}),$(e).click(t=>{const a=$(t.target);a.hasClass("aa-intel-information-link")?t.stopPropagation():changeFleetcompositionStickyHighlight("shiptype",$(e))})}})))}).then(()=>{bootstrapTooltip(".aa-intel-fleetcomp-pilot-ships-list")})});
//# sourceMappingURL=aa-intel-tool-fleetcomposition.min.js.map