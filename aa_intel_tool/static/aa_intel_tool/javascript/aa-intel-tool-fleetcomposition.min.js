$(()=>{'use strict';const e=$('table.aa-intel-dscan-ship-classes-ship-classes-list'),t=$('span#aa-intel-dscan-ship-classes-mass'),a=$('table.aa-intel-dscan-ship-types-list'),s=$('table.aa-intel-fleetcomp-pilot-ships-list'),i=$('span#aa-intel-fleet-participation-count');fetchGet({url:aaIntelToolJsSettings.url.getShipClasses}).then(a=>{a&&($('div.aa-intel-loading-table-info-ship-classes').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-ship-classes').removeClass('d-none'):($('div.table-dscan-ship-classes-ship-classes').removeClass('d-none'),e.DataTable({data:a,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:e=>shipInfoPanel(e)},{data:'count'},{data:'type_name'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:e=>{$(e).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:e=>{$(e).addClass('text-end')}},{targets:2,visible:!1}],createdRow:(e,a)=>{const s=t.data('mass')||0,i=parseInt(s)+a.mass;t.data('mass',i),t.html(new Intl.NumberFormat(aaIntelToolJsSettings.language.django).format(i)),$(e).addClass(`aa-intel-shipclass-item aa-intel-shipclass-id-${a.id} aa-intel-shiptype-id-${a.type_id}`).attr('data-shipclass-id',a.id).attr('data-shiptype-id',a.type_id)}})))}).then(()=>{const e=$('.aa-intel-shipclass-item');e.mouseenter(e=>{addFleetcompositionHighlight('shipclass',$(e.currentTarget))}).mouseleave(e=>{removeFleetcompositionHighlight('shipclass',$(e.currentTarget))}),e.click(e=>{$(e.target).hasClass('aa-intel-information-link')?e.stopPropagation():changeFleetcompositionStickyHighlight('shipclass',$(e.currentTarget))}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-classes-ship-classes-list'})}),fetchGet({url:aaIntelToolJsSettings.url.getShipTypes}).then(e=>{e&&($('div.aa-intel-loading-table-info-ship-types').addClass('d-none'),0===Object.keys(e).length?$('div.aa-intel-empty-table-info-ship-types').removeClass('d-none'):($('div.table-dscan-ship-types').removeClass('d-none'),a.DataTable({data:e,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:'name'},{data:'count'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:e=>{$(e).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:e=>{$(e).addClass('text-end')}}],createdRow:(e,t)=>{$(e).addClass(`aa-intel-shiptype-item aa-intel-shiptype-id-${t.id}`).attr('data-shiptype-id',t.id)}})))}).then(()=>{const e=$('.aa-intel-shiptype-item');e.mouseenter(e=>{addFleetcompositionHighlight('shiptype',$(e.currentTarget))}).mouseleave(e=>{removeFleetcompositionHighlight('shiptype',$(e.currentTarget))}),e.click(e=>{$(e.target).hasClass('aa-intel-information-link')?e.stopPropagation():changeFleetcompositionStickyHighlight('shiptype',$(e.currentTarget))}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-types-list'})}),fetchGet({url:aaIntelToolJsSettings.url.getFleetComposition}).then(e=>{e&&($('div.aa-intel-loading-table-info-fleetcomp-pilot-ships').addClass('d-none'),0===Object.keys(e).length?$('div.aa-intel-empty-table-info-fleetcomp-pilot-ships').removeClass('d-none'):($('div.table-fleetcomp-pilot-ships').removeClass('d-none'),s.DataTable({data:e,paging:!1,language:aaIntelToolJsSettings.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:e=>pilotInfoPanel(e)},{data:'ship'},{data:'solarsystem'}],order:[[0,'asc']],columnDefs:[{targets:0,createdCell:e=>{$(e).addClass('fix-eve-image-position')}}],createdRow:(e,t)=>{const a=i.html(),s=parseInt(a)+1;i.html(s),$(e).addClass(`aa-intel-pilotship-item aa-intel-shipclass-id-${t.ship_id} aa-intel-shiptype-id-${t.ship_type_id}`).attr('data-shipclass-id',t.ship_id).attr('data-shiptype-id',t.ship_type_id)}})))}).then(()=>{const e=$('.aa-intel-pilotship-item');e.mouseenter(e=>{addFleetcompositionHighlight('shiptype',$(e.currentTarget))}).mouseleave(e=>{removeFleetcompositionHighlight('shiptype',$(e.currentTarget))}),e.click(e=>{$(e.target).hasClass('aa-intel-information-link')?e.stopPropagation():changeFleetcompositionStickyHighlight('shiptype',$(e.currentTarget))}),bootstrapTooltip({selector:'.aa-intel-fleetcomp-pilot-ships-list'})})});
//# sourceMappingURL=aa-intel-tool-fleetcomposition.min.js.map