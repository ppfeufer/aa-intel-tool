$(()=>{"use strict";const e=$("table.aa-intel-dscan-ship-classes-ship-classes-list"),l=$("span#aa-intel-dscan-ship-classes-mass"),t=$("table.aa-intel-dscan-ship-types-list"),s=$("table.aa-intel-fleetcomp-pilot-ships-list"),i=$("span#aa-intel-fleet-participation-count");fetchAjaxData(aaIntelToolJsOptions.ajax.getShipClasses).then(a=>{a&&($("div.aa-intel-loading-table-info-ship-classes").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-ship-classes").removeClass("d-none"):($("div.table-dscan-ship-classes-ship-classes").removeClass("d-none"),e.DataTable({data:a,paging:!1,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>shipInfoPanel(a)},{data:"count"},{data:"type_name"}],order:[[1,"desc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("text-ellipsis")}},{targets:1,width:45,createdCell:a=>{$(a).addClass("text-end")}},{targets:2,visible:!1}],createdRow:(a,e)=>{const t=l.data("mass")||0,s=parseInt(t)+e.mass;l.data("mass",s),l.html(new Intl.NumberFormat(aaIntelToolJsL10n.language).format(s)),$(a).attr("data-shipclass-id",e.id).attr("data-shiptype-id",e.type_id),$(a).mouseenter(()=>{addFleetcompositionHightlight("shipclass",$(a))}).mouseleave(()=>{removeFleetcompositionHightlight("shipclass",$(a))})}})))}),fetchAjaxData(aaIntelToolJsOptions.ajax.getShipTypes).then(a=>{a&&($("div.aa-intel-loading-table-info-ship-types").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-ship-types").removeClass("d-none"):($("div.table-dscan-ship-types").removeClass("d-none"),t.DataTable({data:a,paging:!1,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:"name"},{data:"count"}],order:[[1,"desc"]],columnDefs:[{targets:1,width:45,createdCell:a=>{$(a).addClass("text-end")}}],createdRow:(a,e)=>{$(a).attr("data-shiptype-id",e.id),$(a).mouseenter(()=>{addFleetcompositionHightlight("shiptype",$(a))}).mouseleave(()=>{removeFleetcompositionHightlight("shiptype",$(a))})}})))}),fetchAjaxData(aaIntelToolJsOptions.ajax.getFleetComposition).then(a=>{a&&($("div.aa-intel-loading-table-info-fleetcomp-pilot-ships").addClass("d-none"),0===Object.keys(a).length?$("div.aa-intel-empty-table-info-fleetcomp-pilot-ships").removeClass("d-none"):($("div.table-fleetcomp-pilot-ships").removeClass("d-none"),s.DataTable({data:a,paging:!1,language:aaIntelToolJsL10n.dataTables.translation,lengthChange:!1,dom:"<'row'<'col-sm-12'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12'i>>",columns:[{data:a=>pilotInfoPanel(a)},{data:"ship"},{data:"solarsystem"}],order:[[0,"asc"]],columnDefs:[{targets:0,createdCell:a=>{$(a).addClass("fix-eve-image-position")}}],createdRow:(a,e)=>{const t=i.html(),s=parseInt(t)+1;i.html(s),$(a).attr("data-shipclass-id",e.ship_id).attr("data-shiptype-id",e.ship_type_id),$(a).mouseenter(()=>{addFleetcompositionHightlight("shiptype",$(a))}).mouseleave(()=>{removeFleetcompositionHightlight("shiptype",$(a))})}})))})});
//# sourceMappingURL=aa-intel-tool-fleetcomposition.min.js.map