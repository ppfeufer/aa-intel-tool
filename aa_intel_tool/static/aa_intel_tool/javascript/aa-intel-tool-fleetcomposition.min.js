$(document).ready(()=>{'use strict';const a=_getAaIntelToolJsSettings(),e={shipClassesTable:$('table.aa-intel-dscan-ship-classes-ship-classes-list'),shipClassesMass:$('span#aa-intel-dscan-ship-classes-mass'),shipTypesTable:$('table.aa-intel-dscan-ship-types-list'),fleetcompositionTable:$('table.aa-intel-fleetcomp-pilot-ships-list'),pilotsCount:$('span#aa-intel-fleet-participation-count')},s=[[1,'desc']],t=[{target:0,createdCell:a=>$(a).addClass('text-ellipsis fix-eve-image-position')},{target:1,width:35,createdCell:a=>$(a).addClass('text-end'),columnControl:_removeSearchFromColumnControl(a.dataTables.columnControl,1)}],l=({tableElement:e,url:l,loadingClass:i,emptyClass:o,containerClass:n,order:p,columns:d,columnDefs:c,createdRowCallback:h,initCompleteCallback:m})=>{fetchGet({url:l}).then(l=>{$(`div.${i}`).addClass('d-none'),l&&0!==Object.keys(l).length?($(`div.${n}`).removeClass('d-none'),e.DataTable({data:l,paging:!1,language:a.language.dataTables,lengthChange:!1,dom:a.dataTables.dom,ordering:a.dataTables.ordering,columnControl:a.dataTables.columnControl,columns:d,order:p||s,columnDefs:c||t,createdRow:h,initComplete:m})):$(`div.${o}`).removeClass('d-none')}).catch(a=>console.error(`Error fetching data for ${n}:`,a))};l({tableElement:e.shipClassesTable,url:a.url.getShipClasses,loadingClass:'aa-intel-loading-table-info-ship-classes',emptyClass:'aa-intel-empty-table-info-ship-classes',containerClass:'table-dscan-ship-classes-ship-classes',columns:[{data:a=>`${shipInfoPanel(a)}<span class="d-none">${a.type_name}</span>`},{data:'count'}],createdRowCallback:(s,t)=>{const l=e.shipClassesMass.data('mass')||0,i=parseInt(l)+t.mass;e.shipClassesMass.data('mass',i),e.shipClassesMass.html(numberFormatter({value:i,locales:a.language.django})),$(s).addClass(`aa-intel-shipclass-item aa-intel-shipclass-id-${t.id} aa-intel-shiptype-id-${t.type_id}`).attr('data-shipclass-id',t.id).attr('data-shiptype-id',t.type_id)},initCompleteCallback:()=>{_toggleFleetcompStickyHighlight({element:$('.aa-intel-shipclass-item'),type:'shipclass'}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-classes-ship-classes-list'})}}),l({tableElement:e.shipTypesTable,url:a.url.getShipTypes,loadingClass:'aa-intel-loading-table-info-ship-types',emptyClass:'aa-intel-empty-table-info-ship-types',containerClass:'table-dscan-ship-types',columns:[{data:'name'},{data:'count'}],createdRowCallback:(a,e)=>{$(a).addClass(`aa-intel-shiptype-item aa-intel-shiptype-id-${e.id}`).attr('data-shiptype-id',e.id)},initCompleteCallback:()=>{_toggleFleetcompStickyHighlight({element:$('.aa-intel-shiptype-item'),type:'shiptype'}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-types-list'})}}),l({tableElement:e.fleetcompositionTable,url:a.url.getFleetComposition,loadingClass:'aa-intel-loading-table-info-fleetcomp-pilot-ships',emptyClass:'aa-intel-empty-table-info-fleetcomp-pilot-ships',containerClass:'table-fleetcomp-pilot-ships',columns:[{data:a=>pilotInfoPanel(a)},{data:'ship'},{data:'solarsystem'}],order:[[0,'asc']],columnDefs:[{target:0,createdCell:a=>$(a).addClass('fix-eve-image-position')}],createdRowCallback:(a,s)=>{const t=e.pilotsCount.html(),l=parseInt(t)+1;e.pilotsCount.html(l),$(a).addClass(`aa-intel-pilotship-item aa-intel-shipclass-id-${s.ship_id} aa-intel-shiptype-id-${s.ship_type_id}`).attr('data-shipclass-id',s.ship_id).attr('data-shiptype-id',s.ship_type_id)},initCompleteCallback:()=>{_toggleFleetcompStickyHighlight({element:$('.aa-intel-pilotship-item'),type:'shiptype'}),bootstrapTooltip({selector:'.aa-intel-fleetcomp-pilot-ships-list'})}})});
//# sourceMappingURL=aa-intel-tool-fleetcomposition.min.js.map