$(()=>{'use strict';const e=_getAaIntelToolJsSettings(),s={shipClassesTable:$('table.aa-intel-dscan-ship-classes-ship-classes-list'),shipClassesMass:$('span#aa-intel-dscan-ship-classes-mass'),shipTypesTable:$('table.aa-intel-dscan-ship-types-list'),fleetcompositionTable:$('table.aa-intel-fleetcomp-pilot-ships-list'),pilotsCount:$('span#aa-intel-fleet-participation-count')};fetchGet({url:e.url.getShipClasses}).then(a=>{a&&($('div.aa-intel-loading-table-info-ship-classes').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-ship-classes').removeClass('d-none'):($('div.table-dscan-ship-classes-ship-classes').removeClass('d-none'),s.shipClassesTable.DataTable({data:a,paging:!1,language:e.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:e=>shipInfoPanel(e)},{data:'count'},{data:'type_name'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:e=>{$(e).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:e=>{$(e).addClass('text-end')}},{targets:2,visible:!1}],createdRow:(a,t)=>{const l=s.shipClassesMass.data('mass')||0,i=parseInt(l)+t.mass;s.shipClassesMass.data('mass',i),s.shipClassesMass.html(numberFormatter({value:i,locales:e.language.django})),$(a).addClass(`aa-intel-shipclass-item aa-intel-shipclass-id-${t.id} aa-intel-shiptype-id-${t.type_id}`).attr('data-shipclass-id',t.id).attr('data-shiptype-id',t.type_id)},initComplete:()=>{const e=$('.aa-intel-shipclass-item');_toggleFleetcompStickyHighlight({element:e,type:'shipclass'}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-classes-ship-classes-list'})}})))}).catch(e=>{console.error('Error fetching ship classes data:',e)}),fetchGet({url:e.url.getShipTypes}).then(a=>{a&&($('div.aa-intel-loading-table-info-ship-types').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-ship-types').removeClass('d-none'):($('div.table-dscan-ship-types').removeClass('d-none'),s.shipTypesTable.DataTable({data:a,paging:!1,language:e.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:'name'},{data:'count'}],order:[[1,'desc']],columnDefs:[{targets:0,createdCell:e=>{$(e).addClass('text-ellipsis fix-eve-image-position')}},{targets:1,width:35,createdCell:e=>{$(e).addClass('text-end')}}],createdRow:(e,s)=>{$(e).addClass(`aa-intel-shiptype-item aa-intel-shiptype-id-${s.id}`).attr('data-shiptype-id',s.id)},initComplete:()=>{const e=$('.aa-intel-shiptype-item');_toggleFleetcompStickyHighlight({element:e,type:'shiptype'}),bootstrapTooltip({selector:'.aa-intel-dscan-ship-types-list'})}})))}).catch(e=>{console.error('Error fetching ship types data:',e)}),fetchGet({url:e.url.getFleetComposition}).then(a=>{a&&($('div.aa-intel-loading-table-info-fleetcomp-pilot-ships').addClass('d-none'),0===Object.keys(a).length?$('div.aa-intel-empty-table-info-fleetcomp-pilot-ships').removeClass('d-none'):($('div.table-fleetcomp-pilot-ships').removeClass('d-none'),s.fleetcompositionTable.DataTable({data:a,paging:!1,language:e.language.dataTables,lengthChange:!1,dom:'<\'row\'<\'col-sm-12\'f>><\'row\'<\'col-sm-12\'tr>><\'row\'<\'col-sm-12\'i>>',columns:[{data:e=>pilotInfoPanel(e)},{data:'ship'},{data:'solarsystem'}],order:[[0,'asc']],columnDefs:[{targets:0,createdCell:e=>{$(e).addClass('fix-eve-image-position')}}],createdRow:(e,a)=>{const t=s.pilotsCount.html(),l=parseInt(t)+1;s.pilotsCount.html(l),$(e).addClass(`aa-intel-pilotship-item aa-intel-shipclass-id-${a.ship_id} aa-intel-shiptype-id-${a.ship_type_id}`).attr('data-shipclass-id',a.ship_id).attr('data-shiptype-id',a.ship_type_id)},initComplete:()=>{const e=$('.aa-intel-pilotship-item');_toggleFleetcompStickyHighlight({element:e,type:'shiptype'}),bootstrapTooltip({selector:'.aa-intel-fleetcomp-pilot-ships-list'})}})))}).catch(e=>{console.error('Error fetching fleet composition data:',e)})});
//# sourceMappingURL=aa-intel-tool-fleetcomposition.min.js.map